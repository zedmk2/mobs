
{% extends "work/work_base.html" %}

{% load widget_tweaks %}
{% load staticfiles %}

{% block work_content %}

Temp: {{temp}} <br><br>
DATERANGE:<br>{{date_range}}<br><br>
Queryset: {{queryset}} <br> <br>
<br>Week of: {{kwargs.begin}} to {{kwargs.end}} <br>
<br>
These are the drivers and helpers: {{employees}} <br> <br>
{{formset}}
 {{form_date}}<br>{%for form in formset%} {{form.id}}
<br>Form date:  {%if form.date.value == '2018-02-02'%} TEST {%endif%}<br>
Form:{{form.driver}} {{form.helper}} {{form.date.value}} {{forloop.counter}}

{%endfor%}
<br>

<br>
<br>
{%regroup queryset by date as date_queryset%}
<div class="container">

<table class='table scheduleTable'>
<thead>{%for k,v in date_range.items%}
<th>{{k}}<br>{{k|date:"l"}}</th>
{%endfor%}</thead>
<tbody><tr>
{%for q2 in date_queryset%}
<td>

    <table class='scheduleRows'>{%for q in q2.list%}
      <tr><td>{{q.driver}} </td><td> {{q.helper}}</td></tr>
    {% endfor %}</table>

</td>
{%endfor%}</tr>
<tr>
{%for q2 in date_queryset%}
<td>
OFF:
</td>
{%endfor%}</tr>
</tbody>
</table>

</div>
{% endblock %}
